(function(b,c,e){if(e in c&&c[e]){var a,f=b.location,g=/^(a|html)$/i;b.addEventListener("click",function(b){for(a=b.target;!g.test(a.nodeName);)a=a.parentNode;if("href"in a&&(a.href.indexOf("http")||~a.href.indexOf(f.host)))b.preventDefault(),f.href=a.href},!1)}})(document,window.navigator,"standalone");
function makeForms(){$("fieldset legend").each(function(){$(this).parent().prepend("<h2>"+$(this).css({display:"none"}).html()+"</h2>")});$(".form input").each(function(){switch($(this).attr("type")){case "submit":$(this).addClass("btn btn-large btn-primary");break;case "number":case "text":case "password":$(this).addClass("input-block-level").attr({placeholder:$(this).parent().find("label").css({display:"none"}).html()})}});$(".form textarea").each(function(){$(this).addClass("input-block-level").attr({placeholder:$(this).parent().find("label").css({display:"none"}).html()})});
$(".form select").each(function(){$(this).addClass("input-block-level").attr({placeholder:$(this).parent().find("label").html()})})}function makeFlash(){$("#flashMessage").each(function(){$(this).html('<div class="alert"><button type="button" class="close" data-dismiss="alert">\u00d7</button>'+$(this).html()+"</div>")})}
function makeIndex(){$(".index table").each(function(){$(this).addClass("table table-striped table-bordered table-hover")});$(".index .paging").each(function(){$(this).hasClass("pagination")||($(this).addClass("pagination"),$(this).find("span").each(function(){-1!=$(this).html().lastIndexOf("&lt; previous")&&$(this).html($(this).html().replace("&lt; previous","\u00ab"));-1!=$(this).html().lastIndexOf("next &gt;")&&$(this).html($(this).html().replace("next &gt;","\u00bb"));0<$($(this).html()).find("a").length?
$(this).replaceWith('<li class="'+$(this).attr("class")+'" ><span>'+$(this).html()+"</span></li>"):$(this).replaceWith('<li class="'+$(this).attr("class")+'" ><span><a href="#" >'+$(this).html()+"</a></span></li>")}))});0==$(".index .paging ul").length&&$(".index .paging li").wrapAll("<ul />");createNiceIndex()}
function createNiceIndex(){$(".pagination").clone();var b=0,c=0,e=[],a=[],f=[],g=[],k=!1;$(".index table tr").each(function(){0==b?$(this).find("th").each(function(){0<$(this).find("a").length?e.push($(this).find("a").html()):e.push($(this).html())}):(c=0,f=[],$(this).find("td").each(function(){(k="actions"==$(this).attr("class")?!0:!1)?(taction=" ",$(this).find("a").each(function(){onc=$(this).attr("onclick")?'onclick="'+$(this).attr("onclick")+'"':"";taction+='<a href="'+$(this).attr("href")+'"  '+
onc+">"+$(this).html()+"</a> "}),g.push(taction)):f.push($(this).html());c++}),a.push(f));b++});$('<div class="accordion" id="mobile-accordion" style="display:none;"></div>').insertAfter(".index table");for(i in a){var d=a[i][1];d&&39<d.length&&(d=d.substr(0,37)+"...");var d=$('<div class="accordion-heading"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapse-'+i+'">'+d+"</a></div>"),h=$('<div class="accordion-group"></div>');$(h).append(d);details=$('<div id="collapse-'+
i+'" class="accordion-body collapse">');$(details).append(g[i]);for(j=0;j<a[i].length;j++)$(details).append("<div >"+e[j]+":</div>"),$(details).append("<div >"+a[i][j]+"</div>");$(h).append(details);$("#mobile-accordion").append(h)}}
function indexResize(){$(".index").each(function(){var b=$(this).innerWidth();$(this).find("table").css({display:"table"});var c=$(this).find("table").width()+20;b<c?($(this).find("table").css({display:"none"}),$("#mobile-accordion").css({display:"block"})):($(this).find("table").css({display:"table"}),$("#mobile-accordion").css({display:"none"}))})}function makeViews(){$('<div class="clear"></div>').insertAfter(".view dl")}
function makeActions(){var b=$("div > .actions").addClass("nav-collapse collapse");b.remove();$(".content").prepend($(b));$("div > .actions h3").remove();$("div > .actions").wrap('<div class="navbar" />');$("div > .actions").wrap('<div class="navbar-inner " id="customActionBar"/>');$("#customActionBar").prepend($('<a class="btn btn-navbar" data-toggle="collapse" data-target="div > .actions"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a>'));$("#customActionBar").prepend($('<div class="brand">Actions</div>'));
$("div > .actions ul").addClass("nav")}$(document).ready(function(){0<$(".form").length&&makeForms();0<$("#flashMessage").length&&makeFlash();0<$(".index table").length&&(makeIndex(),indexResize(),$(window).bind("resize",indexResize));0<$(".view").length&&makeViews();0<$("div > .actions").length&&makeActions()});